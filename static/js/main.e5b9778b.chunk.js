(this.webpackJsonpblogger_app=this.webpackJsonpblogger_app||[]).push([[0],{120:function(e,t,a){e.exports=a.p+"static/media/bkg.4bf24c61.jpg"},159:function(e,t,a){e.exports=a(183)},164:function(e,t,a){},183:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),i=a(12),c=a.n(i),l=(a(164),a(15)),s=a(18),u=a(14),m=a(93),d=a(220),p=a(231),g=a(230),f=a(229),b=a(9),h=a.n(b),E=a(20),x=a(104),v=function e(t,a,n,r,o,i){Object(x.a)(this,e),this.id=t,this.date=a,this.ownerId=n,this.title=r,this.imgLink=o,this.detail=i},w=function(){return function(){var e=Object(E.a)(h.a.mark((function e(t,a){var n,r,o,i,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().auth.userId,e.prev=1,e.next=4,fetch("https://articles-db-d1d77.firebaseio.com/Articles.json");case 4:if((r=e.sent).ok){e.next=7;break}throw new Error("Something went wrong!");case 7:return e.next=9,r.json();case 9:for(c in o=e.sent,i=[],o)i.push(new v(c,o[c].date,o[c].ownerId,o[c].title,o[c].imgLink,o[c].detail));t({type:"FETCH_ATRICLES",Articles:i,ArticleUser:i.filter((function(e){return e.ownerId===n}))}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log("Error Message",e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,a){return e.apply(this,arguments)}}()},j=a(223),k=a(225),O=a(152),y="#3ebdbe",I="#eb4f4f",T="#ffda70",N=Object(d.a)({root:{flexGrow:1},title:{marginTop:"15px",fontWeight:"bold",height:"60px"},pos:{fontSize:"14px",height:"50px"},date:{fontSize:12,fontStyle:"italic",color:I},link:{textDecoration:"none",color:"#222"}}),S=function(e){var t=N(),a=e.detail;return o.a.createElement(j.a,Object.assign({className:t.root},e),o.a.createElement(k.a,null,o.a.createElement(l.b,{to:"/detail/:".concat(e.id),className:t.link},o.a.createElement("img",{src:e.url,height:"250px",width:"100%",alt:"..."}),o.a.createElement(O.a,{className:t.title,color:"textSecondary",gutterBottom:!0},e.title),o.a.createElement(O.a,{className:t.pos,color:"textSecondary"},a)),o.a.createElement(O.a,{variant:"body2",component:"p",style:{marginTop:"20px"}},"Created at",o.a.createElement("span",{className:t.date}," ",e.date)),e.children))},A=a(22),C=a(226),F=a(227),D=a(228),B=a(149),L=a(242),W=a(241),R=function e(t,a,n,r){Object(x.a)(this,e),this.id=t,this.userName=a,this.photo=n,this.ownerId=r},M=function(e,t,a){return function(n){n(H(a)),n({type:"AUTHENTICATE",userId:e,token:t})}},P=function(e,t){return function(){var a=Object(E.a)(h.a.mark((function a(n){var r,o,i,c,l,s;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCEImcMHKqdG1JP7-UYmrHIcfyKvIetJNg",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,returnSecureToken:!0})});case 2:if((r=a.sent).ok){a.next=11;break}return a.next=6,r.json();case 6:throw o=a.sent,i=o.error.message,c="","WEAK_PASSWORD : Password should be at least 6 characters"===i?c="Password is weak. Password should be at least 6 characters":"EMAIL_EXISTS"===i?c="Email exists":"INVALID_EMAIL"===i&&(c="Invalid email"),new Error(c);case 11:return a.next=13,r.json();case 13:l=a.sent,n(M(l.localId,l.idToken,1e3*parseInt(l.expiresIn))),s=new Date((new Date).getTime()+1e3*parseInt(l.expiresIn)),G(l.idToken,l.localId,s);case 17:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},U=function(e,t){return function(){var a=Object(E.a)(h.a.mark((function a(n,r){var o,i,c,l,s,u;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCEImcMHKqdG1JP7-UYmrHIcfyKvIetJNg",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,returnSecureToken:!0})});case 2:if((o=a.sent).ok){a.next=11;break}return a.next=6,o.json();case 6:throw i=a.sent,c=i.error.message,l="Something went wrong!","EMAIL_NOT_FOUND"===c?l="This email not found!":"INVALID_PASSWORD"===c&&(l="This password is not valid!"),new Error(l);case 11:return a.next=13,o.json();case 13:s=a.sent,n(M(s.localId,s.idToken,1e3*parseInt(s.expiresIn))),u=new Date((new Date).getTime()+1e3*parseInt(s.expiresIn)),G(s.idToken,s.localId,u);case 17:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},_=function(){return q(),localStorage.removeItem("userData"),{type:"LOGOUT"}},q=function(){n&&clearTimeout(n)},H=function(e){return function(t){n=setTimeout((function(){t(_())}),e)}},G=function(e,t,a){localStorage.setItem("userDate",JSON.stringify({token:e,userId:t,expiryDate:a.toISOString()}))},J=Object(d.a)((function(e){return{root:{flexGrow:1},title:{flexGrow:1},navBar:{background:y},link:{color:"#FFF",textDecoration:"none",marginRight:"20px"},btn:{background:"rgba(50, 180, 180, 0.9)"}}}));function z(){var e=J(),t=Object(u.b)(),a=Object(u.c)((function(e){return e.auth.token})),n=Object(u.c)((function(e){return e.auth.userId}));o.a.useEffect((function(){t(function(){var e=Object(E.a)(h.a.mark((function e(t,a){var n,r,o,i,c,l,s,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a().auth.token,a().auth.userId,e.prev=2,e.next=5,fetch("https://articles-db-d1d77.firebaseio.com/Users.json");case 5:if((n=e.sent).ok){e.next=8;break}throw new Error("Something went wrong!");case 8:return e.next=10,n.json();case 10:for(i in r=e.sent,o=[],r){for(s in c="",l="",r[i])c=r[i][s].userName;for(u in r[i])l=r[i][u].photo;o.push(new R(i,c,l,r[i].ownerId))}t({type:"FETCH_SETTING",data:o}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t,a){return e.apply(this,arguments)}}())}),[t]);var r=Object(u.c)((function(e){return e.User.userArr})).find((function(e){return e.id===n})),i=o.a.useState(null),c=Object(A.a)(i,2),s=c[0],m=c[1],d=function(){m(null)};return o.a.createElement("div",{className:e.root},o.a.createElement(C.a,{position:"static",className:e.navBar},o.a.createElement(F.a,null,o.a.createElement(O.a,{variant:"h6",className:e.title},o.a.createElement(l.b,{to:"/",className:e.link},"Home"),a?o.a.createElement(l.b,{to:"/Profile",className:e.link},"Profile"):null),a?o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){m(e.currentTarget)},className:e.btn},o.a.createElement(W.a,{alt:"Remy Sharp",src:r?r.photo:null,className:e.orange},r?r.userName.slice(0,1):" "),o.a.createElement("span",{style:{marginLeft:"10px"}},r?r.userName:" ")),o.a.createElement(B.a,{id:"simple-menu",anchorEl:s,keepMounted:!0,open:Boolean(s),onClose:d},o.a.createElement(L.a,{onClick:d},o.a.createElement(l.b,{to:"/Setting",style:{textDecoration:"none",color:"#000"}},"Setting")),o.a.createElement(L.a,{onClick:function(){return t(_())}},o.a.createElement(l.b,{to:"/",style:{textDecoration:"none",color:"#000"}},"Logout")))):o.a.createElement(D.a,{color:"inherit",className:e.btn},o.a.createElement(l.b,{to:"/Login",className:e.link},"Login")))))}var K=function(){return o.a.createElement("div",{style:{background:y,textAlign:"center"}},o.a.createElement("p",{style:{color:"#FFF",padding:"20px",fontWeight:"bold",marginBottom:0}},"All Right Reserved"))},Y=Object(d.a)((function(e){return{root:{flexGrow:1,paddingTop:"80px",paddingBottom:"80px"}}})),V=function(){var e=Y(),t=Object(u.b)(),a=Object(u.c)((function(e){return e.ArticleReducer.articles}));return o.a.useEffect((function(){t(w())}),[t]),o.a.createElement(o.a.Fragment,null,o.a.createElement(z,null),o.a.createElement(f.a,{maxWidth:"lg",className:e.root},o.a.createElement(g.a,null),o.a.createElement(p.a,{container:!0,spacing:3},a.map((function(e){return o.a.createElement(p.a,{key:e.id,item:!0,xs:12,md:4,lg:3},o.a.createElement(S,{url:e.imgLink,title:e.title,detail:e.detail.substring(0,70).concat("..."),date:e.date,id:e.id}))})))),o.a.createElement(K,null))},X=Object(d.a)({root:{flexGrow:1,paddingTop:"30px",paddingBottom:"30px"},wrapper:{padding:"40px 20px"},title:{marginTop:"15px",fontWeight:"bold",marginBottom:"40px",textAlign:"center",color:"#000"},pos:{fontSize:"14px",lineHeight:"36px",letterSpacing:"1px",marginTop:"30px"},date:{fontSize:12,fontStyle:"italic",color:I,paddingBottom:"2px",textDecoration:"underline"}}),$=function(){var e=Object(u.c)((function(e){return e.ArticleReducer.articles})),t=Object(s.f)().id.slice(1),a=e.find((function(e){return e.id===t})),n=X();return o.a.createElement(o.a.Fragment,null,o.a.createElement(z,null),o.a.createElement(f.a,{maxWidth:"lg",className:n.root},o.a.createElement(g.a,null),o.a.createElement(j.a,{className:n.wrapper},o.a.createElement(O.a,{className:n.title,color:"textSecondary",gutterBottom:!0},a.title),o.a.createElement("img",{src:a.imgLink,width:"100%",height:"550px"}),o.a.createElement(O.a,{variant:"body2",component:"p",style:{marginTop:"20px"}},"Created at",o.a.createElement("span",{className:n.date}," ",a.date)),o.a.createElement(O.a,{className:n.pos,color:"textSecondary"},a.detail))),o.a.createElement(K,null))},Q=a(26),Z=a(4),ee=a(5),te=a(238),ae=a(232),ne=Object(d.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:"15px auto",backgroundColor:y},root:{textAlign:"center",margin:"auto",paddignTop:"80px",paddingBottom:"80px"},form:Object(Q.a)({margin:20,textAlign:"center"},"margin","auto"),margin:{display:"block",width:"100%"},formControl:{width:"100%"},card:{maxWidth:"600px",minWidth:"300px",margin:"auto",textAlign:"center",marginBottom:"30px",paddingTop:"20px",paddingBottom:"20px"},submit:{marginTop:"20px",marginBottom:"20px",background:T,color:"#FFF","&:hover":{background:T}},signup:{textDecoration:"none",color:I,width:"100%"}}})),re=Object(ee.a)({root:{"& label.Mui-focused":{color:y},"& .MuiInput-underline:after":{borderBottomColor:y},"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:y},"&.Mui-focused fieldset":{borderColor:y}}}})(te.a),oe=function(e){var t,a=ne(),n=e.location.pathname.slice(10);console.log(n);var r=Object(u.c)((function(e){return e.ArticleReducer.userArticles.find((function(e){return e.id===n}))})),i=function(e){var t=e.getHours(),a=e.getMinutes(),n=t>=12?"pm":"am",r=(t=(t%=12)||12)+":"+(a=a<10?"0"+a:a)+" "+n;return e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear()+"at"+r}(new Date),c=o.a.useState(r?r.title:""),s=Object(A.a)(c,2),m=s[0],d=s[1],b=o.a.useState(r?r.imgLink:""),x=Object(A.a)(b,2),v=x[0],w=x[1],O=o.a.useState(r?r.detail:""),y=Object(A.a)(O,2),I=y[0],T=y[1],N=Object(u.b)(),S=o.a.useCallback((function(){N(r?function(e,t,a,n){return function(){var r=Object(E.a)(h.a.mark((function r(o,i){var c;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=i().auth.token,r.next=3,fetch("https://articles-db-d1d77.firebaseio.com/Articles/".concat(e,".json?auth=").concat(c),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t,imgLink:a,detail:n})});case 3:if(r.sent.ok){r.next=6;break}throw new Error("Something went wrong!");case 6:o({type:"UPDATE_ATRICLE",articleId:e,ArticleData:{title:t,imgLink:a,detail:n}});case 7:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()}(n,m,v,I):function(e,t,a,n){return function(){var r=Object(E.a)(h.a.mark((function r(o,i){var c,l,s,u;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=i().auth.token,l=i().auth.userId,r.next=4,fetch("https://articles-db-d1d77.firebaseio.com/Articles.json?auth=".concat(c),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:e,title:t,imgLink:a,detail:n,ownerId:l})});case 4:return s=r.sent,r.next=7,s.json();case 7:u=r.sent,console.log("resData user",u),o({type:"INSERT_ATRICLE",ArticleData:{id:u.name,date:e,title:t,imgLink:a,detail:n,ownerId:l}});case 10:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()}(i,m,v,I))}),[N,n,i,m,v,I]);return o.a.createElement("div",null,o.a.createElement(z,null),o.a.createElement(f.a,{maxWidth:"lg",style:{paddingTop:"80px"}},o.a.createElement(g.a,null),o.a.createElement(j.a,{className:a.card},o.a.createElement(k.a,null,o.a.createElement(p.a,{container:!0,spacing:2},o.a.createElement(p.a,{item:!0,xs:12},o.a.createElement(ae.a,{className:Object(Z.a)(a.margin,a.textField)},o.a.createElement(re,{variant:"outlined",required:!0,fullWidth:!0,id:"title",label:"Title",name:"title",autoComplete:"title",onChange:function(e){return d(e.target.value)},value:m}))),o.a.createElement(p.a,{item:!0,xs:12},o.a.createElement(ae.a,{className:Object(Z.a)(a.margin,a.textField)},o.a.createElement(re,{variant:"outlined",required:!0,fullWidth:!0,id:"image",label:"Image",name:"image",autoComplete:"image",onChange:function(e){return w(e.target.value)},value:v}))),o.a.createElement(p.a,{item:!0,xs:12},o.a.createElement(ae.a,{className:Object(Z.a)(a.margin,a.textField)},o.a.createElement(re,(t={variant:"outlined",id:"outlined-multiline-static",multiline:!0,rows:"4",required:!0,fullWidth:!0,name:"detail",label:"Detail",type:"text"},Object(Q.a)(t,"id","detail"),Object(Q.a)(t,"onChange",(function(e){return T(e.target.value)})),Object(Q.a)(t,"value",I),t))))),o.a.createElement(D.a,{type:"submit",fullWidth:!0,variant:"contained",className:a.submit,onClick:S},o.a.createElement(l.b,{to:"/Profile",className:a.signup,style:{color:"#FFF"}},n?"Update Article":"Add Article"))))),o.a.createElement(K,null))},ie=a(122),ce=a(61),le=a(121),se=a.n(le),ue=a(120),me=a.n(ue),de=ce.a({email:ce.b().email("email invalid").required("email invalid"),password:ce.b().required("Password must be more than 6 charachter").min(5)}),pe=Object(d.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:"15px auto",backgroundColor:y},root:{textAlign:"center",margin:"auto",paddignTop:"80px",paddingBottom:"80px",backgroundImage:"url('".concat(me.a,"')"),backgroundSize:"cover"},form:Object(Q.a)({margin:20,textAlign:"center"},"margin","auto"),margin:{display:"block",width:"100%"},formControl:{width:"100%"},errorText:{display:"block",color:"crimson",fontStyle:"italic",marginBottom:35,marginTop:5,fontSize:12},card:{maxWidth:"600px",minWidth:"300px",margin:"auto",textAlign:"center",marginBottom:"30px",paddingTop:"20px",paddingBottom:"20px"},submit:{marginTop:"20px",marginBottom:"20px",background:y,color:"#FFF","&:hover":{background:y}},signup:{textDecoration:"none",color:I,width:"100%"}}})),ge=Object(ee.a)({root:{"& label.Mui-focused":{color:y},"& .MuiInput-underline:after":{borderBottomColor:y},"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:y},"&.Mui-focused fieldset":{borderColor:y}}}})(te.a),fe=function(){var e=pe(),t=Object(r.useState)(!1),a=Object(A.a)(t,2),n=(a[0],a[1]),i=Object(r.useState)(""),c=Object(A.a)(i,2),s=c[0],m=c[1];Object(r.useEffect)((function(){s&&alert(s)}),[s]);var d=Object(u.b)();Object(r.useEffect)((function(){(function(){var e=Object(E.a)(h.a.mark((function e(){var t,a,n,r,o,i,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("userData");case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:if(a=JSON.parse(t),n=a.token,r=a.userId,o=a.expiryDate,!((i=new Date(o))<=new Date)&&n&&r){e.next=10;break}return e.abrupt("return");case 10:c=i.getTime()-(new Date).getTime(),d(M(r,n,c));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[d]);var b=function(){var e=Object(E.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.prev=1,e.next=4,d(U(t,a));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),m(e.t0.message),n(!1);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,a){return e.apply(this,arguments)}}();return o.a.createElement("div",{className:e.root,justify:"center"},o.a.createElement(f.a,{maxWidth:"lg",style:{paddingTop:"80px"}},o.a.createElement(g.a,null),o.a.createElement("div",null,o.a.createElement(ie.a,{initialValues:{email:"",password:""},validationSchema:de,onSubmit:function(){var e=Object(E.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t.email,t.password);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(t){return o.a.createElement(j.a,{className:e.card},o.a.createElement(W.a,{className:e.avatar},o.a.createElement(se.a,null)),o.a.createElement(O.a,{component:"h1",variant:"h5",style:{marginBottom:"20px"}},"Login"),o.a.createElement(k.a,null,o.a.createElement(p.a,{container:!0,spacing:2},o.a.createElement(p.a,{item:!0,xs:12},o.a.createElement(ae.a,{className:Object(Z.a)(e.margin,e.textField)},o.a.createElement(ge,{variant:"outlined",required:!0,fullWidth:!0,id:"mui-theme-provider-outlined-input",label:"Email Address",name:"email",autoComplete:"email",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.email})),o.a.createElement("span",{className:e.errorText},t.touched.email&&t.errors.email)),o.a.createElement(p.a,{item:!0,xs:12},o.a.createElement(ae.a,{className:Object(Z.a)(e.margin,e.textField)},o.a.createElement(ge,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.password})),o.a.createElement("span",{className:e.errorText},t.touched.password&&t.errors.password))),o.a.createElement(D.a,{type:"submit",fullWidth:!0,variant:"contained",className:e.submit,onClick:t.handleSubmit},o.a.createElement(l.b,{to:"/",className:e.signup,style:{color:"#FFF"}},"Login")),o.a.createElement(p.a,{container:!0,justify:"center"},o.a.createElement(p.a,{item:!0},o.a.createElement(l.b,{to:"/Signup",className:e.signup},"Create an account? Sign up")))))})))))},be=ce.a({email:ce.b().email("email invalid").required("email invalid"),password:ce.b().required("Password must be more than 6 charachter").min(5)}),he=Object(d.a)((function(e){var t;return t={paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:"15px auto",backgroundColor:y},form:{width:"100%",marginTop:e.spacing(3)},root:{textAlign:"center",margin:"auto",paddignTop:"80px",paddingBottom:"80px",backgroundImage:"url('".concat(me.a,"')"),backgroundSize:"cover"}},Object(Q.a)(t,"form",Object(Q.a)({margin:20,textAlign:"center"},"margin","auto")),Object(Q.a)(t,"margin",{display:"block",marginBottom:"30px",width:"100%"}),Object(Q.a)(t,"formControl",{width:"100%"}),Object(Q.a)(t,"errorText",{color:"crimson",fontStyle:"italic",marginBottom:25,marginTop:-15,fontSize:12}),Object(Q.a)(t,"card",{maxWidth:"600px",minWidth:"300px",margin:"auto",textAlign:"center",marginBottom:"30px",paddingTop:"20px",paddingBottom:"20px"}),Object(Q.a)(t,"submit",{marginTop:"20px",marginBottom:"20px",background:y,color:"#FFF","&:hover":{background:y}}),Object(Q.a)(t,"signup",{textDecoration:"none",color:I,width:"100%"}),t})),Ee=Object(ee.a)({root:{"& label.Mui-focused":{color:y},"& .MuiInput-underline:after":{borderBottomColor:y},"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:y},"&.Mui-focused fieldset":{borderColor:y}}}})(te.a),xe=function(){var e=he(),t=Object(r.useState)(!1),a=Object(A.a)(t,2),n=(a[0],a[1]),i=Object(r.useState)(""),c=Object(A.a)(i,2),s=c[0],m=c[1];Object(r.useEffect)((function(){s&&alert(s)}),[s]);var d=Object(u.b)(),b=function(){var e=Object(E.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.prev=1,e.next=4,d(P(t,a));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),m(e.t0.message),n(!1);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,a){return e.apply(this,arguments)}}();return o.a.createElement("div",{className:e.root,justify:"center"},o.a.createElement(f.a,{maxWidth:"lg",style:{paddingTop:"80px"}},o.a.createElement(g.a,null),o.a.createElement("div",null,o.a.createElement(ie.a,{initialValues:{email:"",password:""},validationSchema:be,onSubmit:function(){var e=Object(E.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t.email,t.password);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(t){return o.a.createElement(j.a,{className:e.card},o.a.createElement(W.a,{className:e.avatar},o.a.createElement(se.a,null)),o.a.createElement(O.a,{component:"h1",variant:"h5",style:{marginBottom:"20px"}},"Sign up"),o.a.createElement(k.a,null,o.a.createElement(p.a,{container:!0,spacing:2},o.a.createElement(p.a,{item:!0,xs:12},o.a.createElement(ae.a,{className:Object(Z.a)(e.margin,e.textField)},o.a.createElement(Ee,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.email})),o.a.createElement("span",{className:e.errorText},t.touched.email&&t.errors.email)),o.a.createElement(p.a,{item:!0,xs:12},o.a.createElement(ae.a,{className:Object(Z.a)(e.margin,e.textField)},o.a.createElement(Ee,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.password})),o.a.createElement("span",{className:e.errorText},t.touched.password&&t.errors.password))),o.a.createElement(D.a,{type:"submit",fullWidth:!0,variant:"contained",className:e.submit,onClick:t.handleSubmit},o.a.createElement(l.b,{to:"/Setting",className:e.signup,style:{color:"#FFF"}},"Sign up")),o.a.createElement(p.a,{container:!0,justify:"center"},o.a.createElement(p.a,{item:!0},o.a.createElement(l.b,{to:"/Login",className:e.signup},"Already have an account? Login")))))})))))},ve=a(237),we=a(147),je=a.n(we),ke=a(240),Oe=a(236),ye=a(234),Ie=a(235),Te=a(233),Ne=Object(d.a)({root:{flexGrow:1,paddingTop:"80px",paddingBottom:"80px"},margin:{position:"absolute",background:T,color:"#FFF",borderRadius:"50%",bottom:"10%",right:"10%","&:hover":{background:T}},add:{textAlign:"center",color:"#FFF"},btns:{textAlign:"right",marginTop:"25px"},remove:{color:"#FFF",marginLeft:"15px",background:I,display:"inline-block",padding:"6px 8px",marginRight:"20px",borderRadius:"5px",cursor:"pointer"},edit:{color:"#FFF",background:T,display:"inline-block",padding:"6px 8px",borderRadius:"5px"}}),Se=function(e){var t=Object(u.b)();o.a.useEffect((function(){t(w())}),[t]);var a=Object(u.c)((function(e){return e.ArticleReducer.userArticles})),n=(Object(u.c)((function(e){return e.auth.token})),function(e){var a;t((a=e,function(){var e=Object(E.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n().auth.token,e.next=3,fetch("https://articles-db-d1d77.firebaseio.com/Articles/".concat(a,".json?auth=").concat(r),{method:"DELETE"});case 3:if(e.sent.ok){e.next=6;break}throw new Error("Something went wrong!");case 6:t({type:"DELETE_ATRICLE",id:a});case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())),b(!1)}),r=o.a.useState(!1),i=Object(A.a)(r,2),c=(i[0],i[1]),s=o.a.useState(!1),m=Object(A.a)(s,2),d=m[0],b=m[1],x=function(){var e=Object(E.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(w());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();o.a.useEffect((function(){c(!0),x().then(c(!1))}),[t]);var v=function(){b(!0)},j=function(){b(!1)},k=Ne();return o.a.createElement("div",null,o.a.createElement(z,null),o.a.createElement("div",{style:{position:"relative"}},o.a.createElement(f.a,{maxWidth:"lg",className:k.root},o.a.createElement(g.a,null),o.a.createElement(p.a,{container:!0,spacing:3},a.map((function(e){return o.a.createElement(p.a,{key:e.id,item:!0,xs:12,md:4,lg:3},o.a.createElement(S,{url:e.imgLink,title:e.title,detail:e.detail.slice(0,70).concat("..."),date:e.date,id:e.id},o.a.createElement("div",{className:k.btns},o.a.createElement("span",{className:k.remove,onClick:v},o.a.createElement(je.a,null)),o.a.createElement(ke.a,{open:d,onClose:j,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(Te.a,{id:"alert-dialog-title"},"Are you sure?"),o.a.createElement(ye.a,null,o.a.createElement(Ie.a,{id:"alert-dialog-description"},"Do you realy want delete this Article?")),o.a.createElement(Oe.a,null,o.a.createElement(D.a,{onClick:j,color:"primary"},"No"),o.a.createElement(D.a,{onClick:function(){return n(e.id)},color:"primary",autoFocus:!0},"Yes"))),o.a.createElement(l.b,{to:"/addBlog/:".concat(e.id),className:k.edit},o.a.createElement("span",{className:"material-icons"},"edit")))))})))),o.a.createElement(l.b,{to:"/addBlog",className:k.add},o.a.createElement(ve.a,{className:k.margin,"aria-label":"add"},o.a.createElement("span",{className:"material-icons"},"add")))),o.a.createElement(K,null))},Ae=Object(d.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},input:{width:"100%",position:"absolute",display:"block"},btns:{position:"relative",width:"100%"},absolute:{position:"absolute",left:"12px",top:"10px"},submit:{marginTop:"80px",marginBottom:"20px",background:T,color:"#FFF","&:hover":{background:T}},signup:{textDecoration:"none",color:I,width:"100%"}}})),Ce=Object(ee.a)({root:{"& label.Mui-focused":{color:y},"& .MuiInput-underline:after":{borderBottomColor:y},"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:y},"&.Mui-focused fieldset":{borderColor:y}}}})(te.a);function Fe(){var e=Ae(),t=Object(u.b)(),a=m.storage(),n=o.a.useState(""),r=Object(A.a)(n,2),i=r[0],c=r[1],s=o.a.useState(""),d=Object(A.a)(s,2),b=d[0],x=d[1],v=o.a.useState(""),w=Object(A.a)(v,2),O=(w[0],w[1],o.a.useState("")),I=Object(A.a)(O,2);I[0],I[1];return o.a.createElement("div",null,o.a.createElement(z,null),o.a.createElement(f.a,{maxWidth:"lg",style:{paddingTop:"80px"}},o.a.createElement(g.a,null),o.a.createElement(j.a,{className:e.card},o.a.createElement(k.a,null,o.a.createElement(p.a,{container:!0,spacing:2},o.a.createElement(p.a,{item:!0,xs:12},o.a.createElement(ae.a,{style:{width:"100%",marginBottom:"40px"}},o.a.createElement(Ce,{variant:"outlined",required:!0,fullWidth:!0,id:"title",label:"User Name",name:"userName",autoComplete:"userName",onChange:function(e){return c(e.target.value)},value:i}))),o.a.createElement(p.a,{item:!0,xs:12},o.a.createElement(ae.a,{className:e.btns},o.a.createElement(Ce,{variant:"outlined",required:!0,fullWidth:!0,accept:"image/*",className:e.input,id:"contained-button-file",multiple:!0,type:"file",onChange:function(e){if(e.target.files[0]){var t=e.target.files[0];x(t)}}}),o.a.createElement("label",{htmlFor:"contained-button-file",className:e.absolute},o.a.createElement(D.a,{variant:"contained",color:"primary",component:"span",style:{background:y}},"Upload"))))),o.a.createElement(D.a,{type:"submit",fullWidth:!0,variant:"contained",className:e.submit,onClick:function(){""===b&&console.error("not an image, the image file is a ".concat(typeof b)),a.ref("/images/".concat(b.name)).put(b).on("state_changed",(function(){a.ref("images").child(b.name).getDownloadURL().then((function(e){t(function(e,t){return function(){var a=Object(E.a)(h.a.mark((function a(n,r){var o,i,c,l;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=r().auth.token,i=r().auth.userId,a.next=4,fetch("https://articles-db-d1d77.firebaseio.com/Users/".concat(i,".json?auth=").concat(o),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:e,photo:t,ownerId:i})});case 4:return c=a.sent,a.next=7,c.json();case 7:l=a.sent,n({type:"USER_SEETING",userData:{id:l.name,userName:e,photo:t,ownerId:i}});case 9:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}(i,e))}))}))}},o.a.createElement(l.b,{to:"/Profile",className:e.signup,style:{color:"#FFF"}},"Save"))))),o.a.createElement(K,null))}var De=a(65),Be=a(148),Le=a(134),We=a(42),Re={articles:[],userArticles:[]},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ATRICLES":return{articles:t.Articles,userArticles:t.ArticleUser};case"INSERT_ATRICLE":var a=new v(t.ArticleData.id,t.ArticleData.date,t.ArticleData.ownerId,t.ArticleData.title,t.ArticleData.imgLink,t.ArticleData.detail);return Object(We.a)(Object(We.a)({},e),{},{articles:e.articles.concat(a),userArticles:e.userArticles.concat(a)});case"DELETE_ATRICLE":return Object(We.a)(Object(We.a)({},e),{},{articles:e.articles.filter((function(e){return e.id!==t.id})),userArticles:e.userArticles.filter((function(e){return e.id!==t.id}))});case"UPDATE_ATRICLE":var n=e.userArticles.findIndex((function(e){return e.id===t.articleId})),r=new v(t.articleId,t.ArticleData.date,e.userArticles[n].ownerId,t.ArticleData.title,t.ArticleData.imgLink,t.ArticleData.detail),o=Object(Le.a)(e.userArticles);o[n]=r;var i=e.articles.findIndex((function(e){return e.id===t.articleId})),c=Object(Le.a)(e.articles);return c[i]=r,Object(We.a)(Object(We.a)({},e),{},{articles:c,userArticles:o});default:return e}},Pe={token:null,userId:null},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTHENTICATE":return{token:t.token,userId:t.userId};case"LOGOUT":return Pe;default:return e}},_e={userArr:[]},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SETTING":return{userArr:t.data};case"USER_SEETING":var a=new R(t.userData.id,t.userData.userName,t.userData.photo,t.userData.ownerId);return Object(We.a)(Object(We.a)({},e),{},{userArr:e.userArr.concat(a)});default:return e}},He=Object(De.c)({ArticleReducer:Me,auth:Ue,User:qe}),Ge=Object(De.d)(He,Object(De.a)(Be.a)),Je={apiKey:" AIzaSyCEImcMHKqdG1JP7-UYmrHIcfyKvIetJNg ",authDomain:"articles-db-d1d77.firebaseapp.com",databaseURL:"https://articles-db-d1d77.firebaseio.com",projectId:"articles-db-d1d77",storageBucket:"gs://articles-db-d1d77.appspot.com",messagingSenderId:"sender-id",appId:"app-id"};var ze=function(){return m.apps.length||m.initializeApp(Je),o.a.createElement(u.a,{store:Ge},o.a.createElement(l.a,{basename:window.location.pathname||""},o.a.createElement(s.c,null,o.a.createElement(s.a,{path:"/",exact:!0,component:V}),o.a.createElement(s.a,{path:"/detail/:id",component:$}),o.a.createElement(s.a,{path:"/addBlog",component:oe}),o.a.createElement(s.a,{path:"/addBlog/:id",component:oe}),o.a.createElement(s.a,{path:"/Login",component:fe}),o.a.createElement(s.a,{path:"/Signup",component:xe}),o.a.createElement(s.a,{path:"/Profile",component:Se}),o.a.createElement(s.a,{path:"/Setting",component:Fe}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(ze,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[159,1,2]]]);
//# sourceMappingURL=main.e5b9778b.chunk.js.map